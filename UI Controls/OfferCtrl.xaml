<UserControl x:Class="Catan10.OfferCtrl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Catan10"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="375" d:DesignWidth="465" mc:Ignorable="d">

    <Grid Grid.Row="1" Grid.Column="0" Margin="5,0,0,0"
        Background="{x:Bind CurrentPlayer.BackgroundBrush, Mode=OneWay, TargetNullValue=Red, FallbackValue=Red}"
        BorderBrush="Gold" BorderThickness="1" CornerRadius="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="50" />
            <RowDefinition Height="205" />
            <RowDefinition Height="115" />
            <RowDefinition Height="0" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="225" />
            <ColumnDefinition Width="20" />
            <ColumnDefinition Width="220" />
        </Grid.ColumnDefinitions>

        <!--  CurrentPlayer Pic  -->
        <Ellipse Grid.ColumnSpan="3" Width="48" Height="48" Margin="0,2,0,0"
            HorizontalAlignment="Center" VerticalAlignment="Top"
            PointerPressed="OnCurrentPlayerPressed"
            Fill="{x:Bind CurrentPlayer.ImageBrush, Mode=OneWay}"
            Stroke="{x:Bind CurrentPlayer.ForegroundBrush, Mode=OneWay, TargetNullValue=Red, FallbackValue=Red}" />
        <TextBlock Margin="5,0,0,0" HorizontalAlignment="Center" VerticalAlignment="Center"
            Foreground="{x:Bind CurrentPlayer.ForegroundBrush, Mode=OneWay, TargetNullValue=Red, FallbackValue=Red}"
            FontSize="32" Text="Offer" />
        <TextBlock Grid.Column="2" Margin="5,0,0,0" HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Foreground="{x:Bind CurrentPlayer.ForegroundBrush, Mode=OneWay, TargetNullValue=Red, FallbackValue=Red}"
            FontSize="32" Text="Desire" />
        <!--  Divider  -->
        <Rectangle Grid.Row="1" Grid.RowSpan="1" Grid.ColumnSpan="3" Width="2"
            Margin="0,5,0,5" HorizontalAlignment="Center" VerticalAlignment="Stretch"
            Fill="{x:Bind CurrentPlayer.ForegroundBrush, Mode=OneWay}" />

        <!--  My Offer  -->
        <local:TradeResourcesCtrl Grid.Row="1" Margin="5,0,0,0" TradeResources="{x:Bind CurrentPlayer.GameData.Trades.TradeRequest.Offer, Mode=TwoWay}" OnResourceChanged="OnOfferChanged" />
        <!--  My Desire  -->
        <local:TradeResourcesCtrl Grid.Row="1" Grid.Column="2" TradeResources="{x:Bind CurrentPlayer.GameData.Trades.TradeRequest.Desire, Mode=OneWay}" OnResourceChanged="OnDesireChanged" />

        <!--  Approvals  -->
        <StackPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="3" Width="150"
            Margin="0,5,0,0" HorizontalAlignment="Center" VerticalAlignment="Stretch"
            BorderBrush="{x:Bind CurrentPlayer.ForegroundBrush, Mode=OneWay}"
            BorderThickness="1" CornerRadius="10">

            <StackPanel Orientation="Horizontal">
                <Ellipse Width="30" Height="30" Margin="10" HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Fill="{x:Bind CurrentPlayer.ImageBrush, Mode=OneWay}"
                    Stroke="Black" />

                <ToggleSwitch Name="iApprove" Margin="0,10,0,0" HorizontalAlignment="Center"
                    VerticalAlignment="Top"
                    Style="{StaticResource CatanToggleSwitch}"
                    Foreground="{x:Bind CurrentPlayer.ForegroundBrush, Mode=OneWay, TargetNullValue=Red, FallbackValue=Red}"
                    Background="Red">
                    <ToggleSwitch.OnContent>
                        <TextBlock FontFamily="Segoe UI Symbol" FontSize="22" Foreground="{x:Bind CurrentPlayer.ForegroundBrush, Mode=OneWay}" Text="&#xE19F;" />
                    </ToggleSwitch.OnContent>
                    <ToggleSwitch.OffContent>
                        <TextBlock Grid.Row="1" HorizontalAlignment="Center" VerticalAlignment="Center"
                            FontFamily="Segoe UI Symbol" FontSize="22"
                            Foreground="{x:Bind CurrentPlayer.ForegroundBrush, Mode=OneWay}"
                            Text="&#xE19E;" />
                    </ToggleSwitch.OffContent>
                </ToggleSwitch>
            </StackPanel>
            <!--  Partner approval  -->
            <StackPanel Orientation="Horizontal">
                <Ellipse Width="30" Height="30" Margin="10" HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Fill="{x:Bind TradePartner.ImageBrush, Mode=OneWay}"
                    Stroke="Black" />

                <ToggleSwitch Margin="0,10,0,0" HorizontalAlignment="Center" VerticalAlignment="Top"
                    IsHitTestVisible="False"
                    Foreground="{x:Bind CurrentPlayer.ForegroundBrush, Mode=OneWay, TargetNullValue=Red, FallbackValue=Red}"
                    Style="{StaticResource CatanToggleSwitch}">
                    <ToggleSwitch.OnContent>
                        <TextBlock FontFamily="Segoe UI Symbol" FontSize="22" Foreground="{x:Bind CurrentPlayer.ForegroundBrush, Mode=OneWay}" Text="&#xE19F;" />
                    </ToggleSwitch.OnContent>
                    <ToggleSwitch.OffContent>
                        <TextBlock Grid.Row="1" HorizontalAlignment="Center" VerticalAlignment="Center"
                            FontFamily="Segoe UI Symbol" FontSize="22"
                            Foreground="{x:Bind CurrentPlayer.ForegroundBrush, Mode=OneWay}"
                            Text="&#xE19E;" />
                    </ToggleSwitch.OffContent>
                </ToggleSwitch>
            </StackPanel>
        </StackPanel>
        <!--  Send Button  -->
        <Button Grid.Row="2" Grid.Column="2" Width="100" Height="75"
            Margin="0,0,10,0" HorizontalAlignment="Right" VerticalAlignment="Bottom"
            CornerRadius="10"
            Foreground="{x:Bind CurrentPlayer.ForegroundBrush, Mode=OneWay}"
            IsEnabled="{x:Bind iApprove.IsOn, Mode=OneWay}">
            <Button.Content>
                <StackPanel>
                    <TextBlock HorizontalAlignment="Center" Text="&#xE122;" FontFamily="Segoe MDL2 Assets" FontSize="22" />
                    <TextBlock Text="Send" FontSize="22" />
                </StackPanel>
            </Button.Content>
        </Button>

        <!--  Delete Button  -->
        <Button Grid.Row="2" Grid.Column="0" Width="100" Height="75"
            Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Bottom"
            CornerRadius="10" Click="OnDelete"
            Visibility="{x:Bind ShowDeleteButton, Mode=OneWay}"
            Foreground="{x:Bind CurrentPlayer.ForegroundBrush, Mode=OneWay}">
            <Button.Content>
                <StackPanel>
                    <TextBlock HorizontalAlignment="Center" Text="&#xE0D9;" FontFamily="Segoe UI Symbol" FontSize="22" />
                    <TextBlock Text="Delete" FontSize="22" />
                </StackPanel>
            </Button.Content>
        </Button>


    </Grid>
</UserControl>
